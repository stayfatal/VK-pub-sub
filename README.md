# –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ VK-pub-sub

## üìå –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–∏—Å

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã:

1. **–ü–æ–¥–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞**:
    - –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `Subscribe` RPC –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∏–º—è —Ç–æ–ø–∏–∫–∞.
    - –°–µ—Ä–≤–µ—Ä –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Ç–æ–ø–∏–∫ —á–µ—Ä–µ–∑ pubsub.
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∏–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É.

2. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è**:
    - –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `Publish` RPC —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–æ–ø–∏–∫–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
    - –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ pubsub.
    - Pubsub —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º —Ç–æ–ø–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã–µ gRPC-–ø–æ—Ç–æ–∫–∏.

3. **–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤**:
    - –ö–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –ø–æ–¥–ø–∏—Å–∫–∞ —É–¥–∞–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —Å–ª–æ–∏:

- `cmd/` ‚Äî –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`main.go`)
- `api/` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ gRPC-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `protoc`)
- `internal/` –∏ `pkg/` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã
- `domain/` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–µ–π
- `config/` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `gen/` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ gRPC-–∫–ª–∏–µ–Ω—Ç—ã –∏ —Å–µ—Ä–≤–µ—Ä—ã

### –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç gRPC-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è:
- –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ø–æ–¥–ø–∏—Å–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã

–ö–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## ‚öôÔ∏è –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ü–µ–ª–∏ –∏–∑ `makefile`:

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å gRPC-–∫–æ–¥:
```bash
make genpb
```

### –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:
```bash
make run
```

### –¢–µ—Å—Ç—ã –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ
```bash
make test
make cover
```

## üß±–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏ –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

### Clean Architecture (Hexagonal Architecture)
–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏: domain, internal, cmd, pkg.
–í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

### Dependency Injection
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —è–≤–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –æ–±–ª–µ–≥—á–∞—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–º–µ–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.

### Graceful shutdown
–ñ–¥–µ–º —Å–∏–≥–Ω–∞–ª interrupt, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

## Postman
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é [–∫–æ–ª–ª–µ–∫—Ü–∏–∏](https://postman.co/workspace/my-dev~6751977a-4fbd-4370-8616-d3a794e268c8/collection/6814b4618c4b51f645c9ff20?action=share&creator=38531725).

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—É–¥–∞ .proto —Ñ–∞–π–ª –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞.
